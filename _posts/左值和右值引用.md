---
title: 对左值和右值的理解
tag: C++
thumbnail: https://pic.kylinn.cloud/uploads/big/c4d7f77d3f18475006548225726a5e3f.jpg
date: 2021/5/5
---

## 传统的引用--左值
有这样一种说法：
- 可以取地址的，有名字的，非临时的就是左值；
- 不能取地址的，没有名字的，临时的就是右值；


这里，b是对a的引用，也就是**左值引用**
```cpp
int a = 5; // a是左值，5是右值
int &b = a; // 这里a、b都是左值
b = 10;
```

## 错误情况
左值引用需要内存中一块具体的地址，所以下面这种就不行，`10`在内存中没有分配过地址
```cpp
int &a = 10; //错误🙅
```
```cpp
int a = 5;
int &b = a * 6; // 错误🙅 
```


## const的引用
这时如果10是常量，那么在内存中就会分配空间，这样就可以用左值引用了
```cpp
const int &a = 10;
```
但是，因为10用const修饰了，所以就<font color=red>不能修改</font>，只能读取数据

## 右值引用
```cpp
int &&b = 10;
// 这里的b就是对右值的引用
```
*简单的说，右值引用就是对临时变量的引用*

## Extra
`std::move`可以将一个左值变成右值引用